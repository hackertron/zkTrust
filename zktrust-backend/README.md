# ZKTrust Backend

This is a backend server for the ZKTrust decentralized review platform. It provides API endpoints for verifying zero-knowledge proofs generated by the frontend application.

## Project Overview

The backend server is responsible for:
1. Verifying ZK proofs generated from Gumroad purchase confirmation emails
2. Extracting public data (e.g., product name) from verified proofs
3. Providing API endpoints for the frontend to interact with

## Getting Started

### Prerequisites

- Node.js (v18 or higher recommended)
- npm or yarn

### Installation

1. Clone this repository (if not already done)
2. Navigate to the project directory
3. Install dependencies:

```bash
npm install
# or
yarn install
```

### Running the Server

For development:
```bash
npm run dev
# or
yarn dev
```

For production (build and run):
```bash
npm run build
npm run start
# or
yarn build
yarn start
```

The server will start on port 3001 by default (or the port specified in the PORT environment variable).

## API Endpoints

### Health Check
- Endpoint: `GET /api/health`
- Description: Simple health check to verify the server is running
- Response: `{ status: 'ok', message: 'ZKTrust backend is running' }`

### Verify Gumroad Proof
- Endpoint: `POST /api/verify-gumroad-proof`
- Description: Verifies a ZK proof generated from a Gumroad purchase confirmation email
- Request Body:
  ```json
  {
    "proofObject": {
      // The proof object generated by the frontend
    }
  }
  ```
- Success Response (200 OK):
  ```json
  {
    "verified": true,
    "productName": "Product Name from Email"
  }
  ```
- Error Response (400 Bad Request / 500 Internal Server Error):
  ```json
  {
    "verified": false,
    "message": "Error message"
  }
  ```

## Integration with Frontend

The frontend should send the generated proof to the `/api/verify-gumroad-proof` endpoint and display the verification result to the user.

## Notes

- Currently only supports Gumroad purchase confirmation emails
- Uses off-chain verification (on-chain verification will be added in future phases)
- Designed to work with the blueprint: "hackertron/GumroadProof@v2"
